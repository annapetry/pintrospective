<div class="container-fluid user-profile">

  <div class="row header-container">

    <div class="index-header col-md-12 col-sm-12">
      <div class="col-md-2 col-sm-2 user-image">
        <img
          src="<%= user.escape('url') %>"
          class="img-responsive">
      </div>

      <div class="col-md-5 col-sm-5 user-name">
        <div class="userName">
          <h2><%= user.escape('username').capitalize() %></h2>
          <% if (user.id == current_user) { %>
          <a
            role="button"
            class="btn btn-default popovers"
            id="edit-user-profile"
            data-toggle="popover"
            tabindex="0"
            data-trigger="focus"
            data-content="
              <a
                data-toggle='modal'
                data-target='#editUserModal'>
                Edit Profile
              </a>
            ">
            <img src="../assets/pinterest-settings.png">
          </a>

          <% } %>
        </div>
        <div class="userDescription">
          <p><%= user.escape('description') %></p>
        </div>
        <div class="userLocation">
          <span class="glyphicon glyphicon-map-marker"></span>
          <h5><%= user.escape('location') %></h5>
        </div>
      </div>

      <div class="col-md-3 col-sm-2 side-note">
        <p>Following:</p>
      </div>

    </div> <!-- Close of Index Header-->
  </div> <!-- Close of header-container -->

  <div class="row">
    <div class="btn-group large-section-divider col-md-12">
      <a
        href="/#/users/<%= user.id %>"
        type="button"
        class="btn btn-default board-count">
        <p><%= user.get('board_count') %> Boards</p>
      </a>
      <a
        href="/#/users/<%= user.id %>/pins"
        type="button"
        class="btn btn-default">
        <p><%= user.get('pin_count') %> Pins</p>
      </a>
      <button
        type="button"
        class="btn btn-default">
        <p>No Likes!</p>
      </button>
      <span id="wide">
        <% if (user.id != current_user) { %>
          <button
            class="btn btn-danger red-button"
            id="user-follow-button"
            data-follow-state="<%= (user.followers().length) > 0 ? "followed" : "unfollowed" %>">
          </button>
        <% } %>
      </span>
      <a
        href="/#/users/<%= user.id %>/followers"
        type="button"
        id="follower-count"
        class="btn btn-default long-btn">
        <p><%= user.get('follower_count') %> Followers</p>
      </a>
      <a
        href="/#/users/<%= user.id %>/following"
        type="button"
        id="following-count"
        class="btn btn-default long-btn">
        <p><%= user.get('following_count') %> Following</p>
      </a>
    </div>
    </div>
</div>

<div class="container index-itms">
  <div>
    <div id="board-items"></div>
    <div id="pin-items"></div>
    <div id="user-items"></div>
  </div>
</div>


<!-- Edit User Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" role="dialog" aria-labelledby="editUser" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <form role="form" id="edit-user-form" class="form-horizontal">
        <div class="modal-header">
        <button type="button"
          class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="editBoard">Edit Profile</h4>
      </div> <!-- Close modal header -->

        <div class="modal-body edit-board-form-body">
          <div class="form-group">
            <label
              for="user-image"
              class="col-sm-2 control-label">
              Picture
            </label>
            <div id="user-img">
              <img src="<%= user.escape('url') %>">
            </div>
            <input
              type="filepicker"
              data-fp-mimetype="image/*"
              name="image[url]"
              data-fp-button-text="Change Picture"
              data-fp-button-class="btn btn-default upload-img">
          </div>
          <div class="form-group">
            <label
              for="board-desc"
              id="about-you"
              class="col-sm-2 control-label">
              About You
            </label>
            <div class="col-sm-10">
                <textarea
                  class="form-control"
                  id="user-desc"
                  name="user[description]"><%= user.escape('description') %></textarea>
            </div>
          </div>
          <div class="form-group">
            <label
              for="user-location"
              class="col-sm-2 control-label">
              Location
            </label>
            <div class="col-sm-10">
              <input
                type="text"
                class="form-control"
                id="user-location"
                name="user[location]"
                value="<%= user.escape('location') %>">
            </div>
          </div>

        </div> <!-- Close modal body -->

        <div class="modal-footer edit-board-form-footer">
          <button
            type="button"
            class="btn btn-default"
            data-dismiss="modal">
            Cancel
          </button>
          <button
            type="submit"
            id="submit-user-edit-form"
            class="btn btn-danger red-button">
            Save Profile
          </button>
        </div> <!-- Close modal footer -->
      </form>

    </div> <!-- Close of modal content -->
  </div> <!-- Close of modal dialog -->
</div> <!-- Close of top-level modal div -->

